<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_11) on Thu Aug 13 17:46:59 BRT 2015 -->
<title>lumis.lptf.doui.serviceinterface</title>
<meta name="date" content="2015-08-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="lumis.lptf.doui.serviceinterface";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../lumis/doui/upgrade/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../lumis/lptf/portal/serviceinterface/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?lumis/lptf/doui/serviceinterface/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;lumis.lptf.doui.serviceinterface</h1>
<div class="docSummary">
<div class="block">This package contains the the test base class useful to perform tests on 
 Doui service interfaces.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../lumis/lptf/doui/serviceinterface/IDouiActionRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface">IDouiActionRequestCycle</a></td>
<td class="colLast">
<div class="block">Interface for Doui action request cycle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../lumis/lptf/doui/serviceinterface/IDouiRenderRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface">IDouiRenderRequestCycle</a></td>
<td class="colLast">
<div class="block">Interface for Doui render request cycle.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../lumis/lptf/doui/serviceinterface/IDouiRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface">IDouiRequestCycle</a></td>
<td class="colLast">
<div class="block">Interface for Doui request cycle.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../lumis/lptf/doui/serviceinterface/DouiRequestCycleFactory.html" title="class in lumis.lptf.doui.serviceinterface">DouiRequestCycleFactory</a></td>
<td class="colLast">
<div class="block">Creates and initializes DouiRequestCycle instances.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../lumis/lptf/doui/serviceinterface/DouiServiceInterfaceTestCase.html" title="class in lumis.lptf.doui.serviceinterface">DouiServiceInterfaceTestCase</a></td>
<td class="colLast">
<div class="block">Generic test case for Doui Service Interfaces.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../lumis/lptf/doui/serviceinterface/DouiServiceInterfaceTestException.html" title="class in lumis.lptf.doui.serviceinterface">DouiServiceInterfaceTestException</a></td>
<td class="colLast">
<div class="block">Base exception for LPTF Doui package.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package lumis.lptf.doui.serviceinterface Description">Package lumis.lptf.doui.serviceinterface Description</h2>
<div class="block">This package contains the the test base class useful to perform tests on 
 Doui service interfaces.
 <p>
 <h1>Doui Service Interface Tests</h1>
 </p>
 <p>
 The client system has two options to use Lumis Portal Test Framework in 
 order to perform Doui Service Interface tests:
 <ul>
 <li>Test cases as subclasses of 
 <a href="../../../../lumis/lptf/doui/serviceinterface/DouiServiceInterfaceTestCase.html" title="class in lumis.lptf.doui.serviceinterface"><code>DouiServiceInterfaceTestCase</code></a></li>
 <li>Using <a href="../../../../lumis/lptf/portal/structure/StructureHelper.html" title="class in lumis.lptf.portal.structure"><code>StructureHelper</code></a> (to create the
 necessary portal structure, and in it the service interface instance to be called) and 
 <a href="../../../../lumis/lptf/doui/serviceinterface/DouiRequestCycleFactory.html" title="class in lumis.lptf.doui.serviceinterface"><code>DouiRequestCycleFactory</code></a> (to instantiate
 the needed DouiRequestCycle implementation, used for calling the interface's render, 
 processAction methods; or for providing request and response objects)</li>
 </ul>
 </p>
 <h2>Using <a href="../../../../lumis/lptf/doui/serviceinterface/DouiServiceInterfaceTestCase.html" title="class in lumis.lptf.doui.serviceinterface"><code>DouiServiceInterfaceTestCase</code></a></h2>
 <p>
 In the first case, the client must have a subclass of 
 <a href="../../../../lumis/lptf/doui/serviceinterface/DouiServiceInterfaceTestCase.html" title="class in lumis.lptf.doui.serviceinterface"><code>DouiServiceInterfaceTestCase</code></a> and implement 
 the methods <code>getServiceId</code> and <code>getServiceInterfaceId</code>
 in order to provide the identifiers for the service and the service interface 
 respectively.
 </p>
 <p>
 In the test methods, the test class will have access to
 IDouiRenderRequestCycle and IDouiActionRequestCycle. 
 Using these objects, it can get the mocks for request and response.
 IDouiRequestCycle specific classes also provide the common actions needed to 
 perform service interface tests like render and processAction methods.
 </p>
 <p>
 <a href="../../../../lumis/lptf/doui/serviceinterface/DouiServiceInterfaceTestCase.html" title="class in lumis.lptf.doui.serviceinterface"><code>DouiServiceInterfaceTestCase</code></a> starts
 a transaction and a session in <code>setUp</code> method. Also, it disposes 
 the transaction and ends the session in <code>tearDown</code>.   
 During the execution of the test methods the subclass must handle the other 
 operations needed. It is common, for example, that before calling render or 
 processAction methods in order to test them, it will be needed to commit the
 current transaction and starts another. The transaction instance is
 available to the subclass in order to allow these operations.
 The <code>tearDown</code> method also calls the <code>cleanup</code> method
 from the StructureHelper instance. So, all the structure created for the
 tests (like channels, pages and service interface instances) will be
 discarded.
 </p>
 <p>Example:</p>
 <code><pre>
        public class TestMyDouiInterface extends DouiServiceInterfaceTestCase
        {

                public String getServiceId()
                {
                        // return the service id
                }
                
                public String getServiceInterfaceId()
                {
                        // return the service interface id
                }

                public void testRender() throws Exception
                {
                        // performs specific actions for this test
                        // like creating data used by the interface implementation
                        ... 

                        // commit the current transaction if it was used above
                        this.transaction.commit();
                        this.transaction.close();
                        
                        // calls the render method:
                        this.douiRenderCycle.render();
                                
                        // if necessary for the assertions, the transaction could also be re-created as example below:
                        this.transaction = PortalTransactionFactory.createTransaction();
                        this.transaction.begin();

                        // asserts the response using 
                        // this.douiRenderCycle.getResponse() object
                }
        }
 </pre></code>
 
 <h2>Using <a href="../../../../lumis/lptf/portal/structure/StructureHelper.html" title="class in lumis.lptf.portal.structure"><code>StructureHelper</code></a> and 
 <a href="../../../../lumis/lptf/doui/serviceinterface/DouiRequestCycleFactory.html" title="class in lumis.lptf.doui.serviceinterface"><code>DouiRequestCycleFactory</code></a></h2>
 <p>
 In the second solution, the client may use 
 <a href="../../../../lumis/lptf/portal/structure/StructureHelper.html" title="class in lumis.lptf.portal.structure"><code>StructureHelper</code></a> in create an
 instance of the needed service interface.
 It also may use 
 <a href="../../../../lumis/lptf/doui/serviceinterface/DouiRequestCycleFactory.html" title="class in lumis.lptf.doui.serviceinterface"><code>DouiRequestCycleFactory</code></a>
 to create the 
 <a href="../../../../lumis/lptf/doui/serviceinterface/IDouiRenderRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface"><code>IDouiRenderRequestCycle</code></a> 
 or <a href="../../../../lumis/lptf/doui/serviceinterface/IDouiActionRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface"><code>IDouiActionRequestCycle</code></a> objects 
 (and then use them, or get the request and response objects from them).
 </p>
 <p>
 As in the first option, the test classes must handle the session and 
 transaction instances. The 
 <a href="../../../../lumis/lptf/portal/structure/StructureHelper.html" title="class in lumis.lptf.portal.structure"><code>StructureHelper</code></a> uses the current session
 and current transaction for almost all its methods but <code>cleanup</code> 
 that uses its own transaction and session.
 </p>
 <p>
 The common implementation for these test cases, will instantiate a helper 
 in the <code>setUp</code> and call the <code>cleanup</code> in 
 <code>tearDown</code>.
 </p>
 <h1>Doui Request Cycles</h1>
 <p>
 In order to facilitate the Doui Service Interface tests, the cycles expose
 the steps for the major process executed by DouiServiceInterface.
 Using 
 <a href="../../../../lumis/lptf/doui/serviceinterface/IDouiRenderRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface"><code>IDouiRenderRequestCycle</code></a>
 and 
 <a href="../../../../lumis/lptf/doui/serviceinterface/IDouiActionRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface"><code>IDouiActionRequestCycle</code></a>
 types, the client can execute <code>render</code> or
 <code>processAction</code> methods from DouiServiceInterface or it can
 execute step by step of each one.
 </p>
 <p>
 The client can execute Doui request cycle (action or render) until one of
 the possible steps or the entire process.
 </p>
 <p>
 Also, the DouiContext can be retrieved calling the method
 <code>getDouiContext</code>.
 This operation is valid only if the process was executed step by step.
 If the method <code>render</code> or <code>processAction</code> was used
 instead, the call to <code>getDouiContext</code> will throw an
 IllegalStateException. 
 </p>
 <p>
 The steps of each request cycle type are listed below:
 </p>
 <h2><a href="../../../../lumis/lptf/doui/serviceinterface/IDouiRenderRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface"><code>IDouiRenderRequestCycle</code></a></h2>
 <p>
 <ul>
 <li>DouiContext creation</li>
 <li>DouiContext initialization</li>
 <li>Load information from request</li>
 <li>Validation</li>
 <li>Process actions</li>
 </ul>
 </p>
 <h2><a href="../../../../lumis/lptf/doui/serviceinterface/IDouiActionRequestCycle.html" title="interface in lumis.lptf.doui.serviceinterface"><code>IDouiActionRequestCycle</code></a></h2>
 <p>
 <ul>
 <li>DouiContext creation</li>
 <li>DouiContext initialization</li>
 <li>Load information from request</li>
 <li>Validation</li>
 <li>Load sources</li>
 <li>Render data</li>
 </ul>
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.6.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Revision: 16824 $ $Date: 2015-01-23 18:49:12 -0200 (Fri, 23 Jan 2015) $</dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../lumis/doui/upgrade/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../lumis/lptf/portal/serviceinterface/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?lumis/lptf/doui/serviceinterface/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><font face="Arial" size="3"><strong>Lumis<font color="#ff9900">portal</font></strong><font size="2">&nbsp;&nbsp;8.1.1.150831 - <i>Copyright © 2006–2015 Lumis EIP Tecnologia da Informação LTDA. All Rights Reserved.</i></font></font></small></p>
</body>
</html>

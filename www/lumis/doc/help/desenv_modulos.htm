<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head>
   <title>Modulos</title>
   <meta name="Generator" content="Lumis Portal 8.1.1.150831 - Copyright © 2006–2015 Lumis EIP Tecnologia da Informação LTDA. Todos os direitos reservados."/>
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   	<style type="text/css" rel="stylesheet"> 
	<!-- 
	BODY {
	scrollbar-face-color:#e9a349;
	scrollbar-highlight-color:#DFDFDF;
	scrollbar-3dlight-color:#e9a349;
	scrollbar-darkshadow-color:#bb5a11;
	scrollbar-shadow-color:#bb5a11;
	scrollbar-arrow-color:#bb5a11;
	scrollbar-track-color:#e9a349;
	}
	-->
	</style>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if (location.search.lastIndexOf("toc=0")<=0) {
  if (parent.frames.length==0) { parent.location.href="index.htm?desenv_modulos.htm"; }
  else { parent.quicksync('a8.11.2'); }
}
//-->
</script>
<script type="text/javascript" src="highlight.js"></script></head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;" onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div>


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#FFFFFF">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">Modulos</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="visaogeral.htm">Top</a>&nbsp;
     <a href="desenv_componente_exemplos.htm">Previous</a>&nbsp;
     <a href="definicao_de_modulo.htm">Next</a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p>Módulos são partes de uma aplicação instaláveis, ou até mesmo de uma aplicação completa, que podem conter:</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: 1.50;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Serviços</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: 1.50;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Temas</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: 1.50;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Contextos de negócio</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: 1.50;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Componentes</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: 1.50;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Classes Java</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: 1.50;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Entidades Hibernate</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 10px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: 1.50;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>RESTful Web Services (JAX-RS)</td></tr></table></div><p style="margin: 0px 0px 0px 10px;">&nbsp;</p>
<div style="text-align: center; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 1px;"><table align="center" width="590" cellspacing="0" cellpadding="0" border="0" style="border: none; border-spacing:0px; border-collapse: collapse;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="102" style="width:102px; border: solid 1px #000000;"><p><span style="font-weight: bold;">Observações</span></p>
</td>
<td valign="top" width="488" style="width:488px; border: solid 1px #000000;"><p>&nbsp;</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" valign="top" width="590" style="width:590px; border: solid 1px #000000;"><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Um recurso (de qualquer tipo) só pode existir em um único módulo. A situação de existir um mesmo recurso em mais de um módulo é tratada como um erro.</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 7px 0px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Um recurso (de qualquer tipo) não pode estar presente no portal fora de um módulo e estar presente em um módulo. A situação de existir um mesmo recurso em um módulo e fora dele é tratada como um erro.</td></tr></table></div></td>
</tr>
</table>
</div>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Serviços</span></p>
<p>Um módulo pode possuir serviços que serão disponibilizados pelo portal enquanto o módulo estiver disponível. Os serviços podem estar localizados em qualquer local do módulo.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Temas</span></p>
<p>Um módulo pode possuir temas que serão disponibilizados pelo portal enquanto o módulo estiver disponível. Os temas podem estar localizados em qualquer local do módulo.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Contextos de negócio</span></p>
<p>Um módulo pode possuir contextos de negócio que serão disponibilizados pelo portal enquanto o módulo estiver disponível. Os contextos de negócio podem estar localizados em qualquer local do módulo.</p>
<p>&nbsp;<br>
<span style="font-weight: bold;">Classes Java</span></p>
<p>Quando uma classe Java é disponibilizada ela fica disponível através do <span style="font-style: italic;">class loader </span>do portal. Não é recomendado uma classe Java disponibilizada em um módulo utilizar-se de uma classe Java disponibilizada em outro módulo. Caso o faça, a classe que referencia a outra só poderia fazê-lo utilizando <span style="font-style: italic;">reflection</span>, o que tornaria impraticável essa situação.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Entidades Hibernate</span></p>
<p>As entidades Hibernate presentes no módulo sendo instalado serão, por padrão, automaticamente registradas e estarão prontas para uso na <span style="font-style: italic;">EntityManagerFactory </span>padrão, uma vez que o módulo tenha sido instalado. Caso haja a necessidade de alterar em qual <span style="font-style: italic;">EntityManagerFactory </span>a entidade será disponibilizada ou caso a entidade não possa ser disponibilizada automaticamente, basta anotar a classe com a anotação <a href="../api/lumis/portal/dao/jpa/PortalEntity.html" target="_blank" class="weblink">lumis.portal.dao.jpa.PortalEntity</a>.</p>
<div style="text-align: center; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 1px;"><table align="center" width="590" cellspacing="0" cellpadding="0" border="0" style="border: none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="102" style="width:102px;"><p style="border-color: #000000; border-style: solid; border-width: 1px; border-bottom: none;"><span style="font-weight: bold;">Observações</span></p>
</td>
<td valign="top" width="488" style="width:488px;"><p style="border-color: #000000; border-style: solid; border-width: 1px; border-top: none; border-right: none; border-bottom: none; border-left: none;">&nbsp;</p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td colspan="2" valign="top" width="590" style="width:590px;"><div style="text-align: justify; text-indent: 0px; border-color: #000000; border-style: solid; border-width: 1px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Para que entidades hibernate sejam localizadas no módulo elas devem conter uma das seguintes anotações: <span style="font-style: italic;">org.hibernate.annotations.Entity</span> ou <span style="font-style: italic;">javax.persistence.Entity</span>.</td></tr></table></div></td>
</tr>
</table>
</div>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">RESTful Web Services (JAX-RS)</span></p>
<p>Classes Java presentes no módulo contendo anotações <span style="font-style: italic;">@Path</span> ou <span style="font-style: italic;">@Provider</span> do <span style="font-style: italic;">JAX-RS</span> serão processadas e incluídas no motor de execução REST da aplicação do portal. Abaixo há um exemplo de uma classe que disponibiliza operações RESTful, tal que quando acessado "<span style="font-style: italic;">&lt;URL base do portal&gt;/hello/text</span>" retorna um texto, e quando acessado "<span style="font-style: italic;">&lt;URL base do portal&gt;/hello/bean</span>" retorna um objeto convertido para XML ou JSON conforme a preferência indicada pelo cabeçalho da requisição. Para maiores informações sobre como implementar um <span style="font-style: italic;">RESTful Web Service</span> utilizando <span style="font-style: italic;">JAX-RS</span>, consulte a <a href="http://docs.oracle.com/javaee/7/tutorial/doc/jaxrs.htm" target="_blank" class="weblink">documentação de JAX-RS</a>.</p>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table cellspacing="0" cellpadding="0" border="1" style="border: solid 1px #000000; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: none"><p><span style="font-family: 'Consolas';">import java.io.IOException;</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';">import javax.ws.rs.GET;</span></p>
<p><span style="font-family: 'Consolas';">import javax.ws.rs.Path;</span></p>
<p><span style="font-family: 'Consolas';">import javax.ws.rs.Produces;</span></p>
<p><span style="font-family: 'Consolas';">import javax.ws.rs.core.MediaType;</span></p>
<p><span style="font-family: 'Consolas';">import javax.xml.bind.annotation.XmlAttribute;</span></p>
<p><span style="font-family: 'Consolas';">import javax.xml.bind.annotation.XmlElement;</span></p>
<p><span style="font-family: 'Consolas';">import javax.xml.bind.annotation.XmlRootElement;</span></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Consolas';">@Path("hello")</span></p>
<p><span style="font-family: 'Consolas';">public class MyRest</span></p>
<p><span style="font-family: 'Consolas';">{</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">@XmlRootElement</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">public static class Bean {</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 'Consolas';">@XmlElement</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 'Consolas';">private String name = "my_name";</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 'Consolas';">@XmlAttribute</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 'Consolas';">private String anAttribute = "attributeValue";</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 'Consolas';">@XmlElement</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 'Consolas';">private String anotherElement = "elementValue";</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">}</span></p>
<p><span style="width:48px">&nbsp;</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">@Path("text") @GET @Produces({MediaType.TEXT_PLAIN})</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">public String getText() throws IOException {</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 'Consolas';">return "hello";</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">}</span></p>
<p><span style="width:48px">&nbsp;</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">@Path("bean") @GET @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">public Bean getBean() throws IOException {</span></p>
<p><span style="width:48px">&nbsp;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 'Consolas';">return new Bean();</span></p>
<p><span style="width:48px">&nbsp;</span><span style="font-family: 'Consolas';">}</span></p>
<p><span style="font-family: 'Consolas';">}</span></p>
</td>
</tr>
</table>
</div>
<p>&nbsp;</p>
<p>Afim de facilitar o desenvolvimento, nas chamadas REST, que são normalmente dinâmicas, o Lumis Portal por padrão inclui o cabeçalho de resposta "<span class="f_CodeExample">Cache-Control</span>" com valor "<span class="f_CodeExample">private, no-cache, no-transform</span>". Isto pode ser alterado usando a anotação <span class="f_CodeExample"><a href="../api/index.html?lumis/portal/rest/util/CacheControl.html" target="_blank" class="weblink">lumis.portal.rest.util.CacheControl</a></span> ou explicitando outro valor para esse cabeçalho na resposta.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Disponibilidade dos recursos de um módulo</span></p>
<p style="line-height: 1.50;">Os recursos de um módulo são mantidos enquanto o mesmo existe no portal. O portal efetuará as alterações dos recursos adequadamente quando há alterações (incluções, atualizações e excluções) de módulos.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Definição do módulo</span></p>
<p>O módulo deve conter um arquivo de definição que contém informações gerais sobre o módulo, como por exemplo seu identificador. Veja mais sobre o identificador em <a href="definicao_de_modulo.htm">Definição de Módulo</a>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Class loaders de módulos</span></p>
<p>O portal cria um class loader distinto para cada módulo, de forma que um não está na hierarquia de <span style="font-style: italic;">class loaders</span> do outro. Por esse motivo, recomenda-se uma arquitetura adequada para que os módulos possam ser construídos e funcionem adequadamene.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</td></tr></table>
<hr size="1" /><p style="font-size: 8pt"><b>Lumis Portal</b> 8.1.1.150831<br><i>Copyright © 2006–2015 Lumis EIP Tecnologia da Informação LTDA. Todos os direitos reservados.</i></p>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head>
   <title>Versão 4.2.0.080723</title>
   <meta name="Generator" content="Lumis Portal 8.1.1.150831 - Copyright © 2006–2015 Lumis EIP Tecnologia da Informação LTDA. Todos os direitos reservados."/>
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   	<style type="text/css" rel="stylesheet"> 
	<!-- 
	BODY {
	scrollbar-face-color:#e9a349;
	scrollbar-highlight-color:#DFDFDF;
	scrollbar-3dlight-color:#e9a349;
	scrollbar-darkshadow-color:#bb5a11;
	scrollbar-shadow-color:#bb5a11;
	scrollbar-arrow-color:#bb5a11;
	scrollbar-track-color:#e9a349;
	}
	-->
	</style>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if (location.search.lastIndexOf("toc=0")<=0) {
  if (parent.frames.length==0) { parent.location.href="index.htm?versao420.htm"; }
  else { parent.quicksync('a3.1.5.9'); }
}
//-->
</script>
<script type="text/javascript" src="highlight.js"></script></head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;" onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; "></div>


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#FFFFFF">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">Versão 4.2.0.080723</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="visaogeral.htm">Top</a>&nbsp;
     <a href="versao421.htm">Previous</a>&nbsp;
     <a href="versao410.htm">Next</a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-weight: bold;">Novidades</span></p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><a href="gerenciadorrelatorios.htm">Serviço Relatórios</a> ;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 35px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Adição de novos <span style="font-style: italic;">jars</span> referentes ao funcionamento do Serviço de <span style="font-style: italic;">Relatórios</span>;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Acrescentado em <span style="font-style: italic;">lumisportalconfig.xml</span> o elemento <span style="font-style: italic;">serverId</span> para especificar uma identificação para o servidor. O valor desse atributo deve ser único entre servidores em um ambiente <span style="font-style: italic;">multiserver. </span>Atualizar o <span style="font-style: italic;">lumisportalconfig.xml</span> com essa configuração;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><a href="categorizacao.htm">Serviço de Categorização de Conteúdos</a> ;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Nova <a href="contentframework.htm">arquitetura de content</a><span style="font-style: italic;">;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Informação de interface sendo carregada: a configuração é realizada no elemento <span style="font-style: italic;">&lt;loadingHtmlMessage&gt; </span>no <span style="font-style: italic;">lumisportalconfig.xml</span> que permite atribuir informações de &nbsp;progresso nas chamadas das interfaces <span style="font-style: italic;">client-side.</span> Por <span style="font-style: italic;">default</span>, o usuário visualizará uma imagem, juntamente com a <span style="font-style: italic;">string</span> "Carregando". A renderização das interfaces <span style="font-style: italic;">client-side</span> passou a ser assíncrona, ou seja, o portal não espera que uma interface seja renderizada, para renderizar a outra. As renderizações são realizadas em paralelo. Atualizar o <span style="font-style: italic;">lumisportalconfig.xml</span> com essa configuração;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="background-color: #ffffff;">Novo estilo para a interface&nbsp;</span><span style="font-style: italic; background-color: #ffffff;">Busca com Resultados: ListAcessible.xsl (Lista Acessível).&nbsp;</span><span style="background-color: #ffffff;">Este estilo permite que a interface com comportamento&nbsp;</span><span style="font-style: italic; background-color: #ffffff;">client-side</span><span style="background-color: #ffffff;">&nbsp;também seja acessível;</span></td></tr></table></div><p style="margin: 14px 0px 0px 0px;"><span style="font-weight: bold;">Melhorias</span></p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Exportação/Importação: Regras de membros de grupos locais e lista de controle de acesso;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Serviço <span style="font-style: italic;">Fale Conosco</span> agora possui categoria para as mensagens;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Criado o controle <span style="font-style: italic;">lum_conditionalRender</span> que somente é renderizado, bem como os seus filhos, caso a condição definida em uma <span style="font-style: italic;">EL</span> for satisfeita;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Implementado o template com mode="lum_renderDetailsValue" name="lum_renderDetailsValue" no <span style="font-style: italic;">doui controls</span>. Para customizar a renderização de um campo da interface de detalhes, é possível criar o</td></tr></table></div><p style="margin: 0px 0px 0px 35px;">proprio template com <span style="font-style: italic;">mode="lum_renderDetailsValue"</span> como exibido abaixo:</p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">...</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;xsl:template match="*" mode="lum_renderDetailsValue"&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;xsl:choose&gt;&lt;BR&gt;&lt;xsl:whentest="name()='photograph'"&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;img src="{downloadInlineHref}" alt="{name}" /&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;/xsl:when&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;xsl:otherwise&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;xsl:call-template name="lum_renderDetailsValue" /&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;/xsl:otherwise&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;/xsl:choose&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;"><span style="font-family: 'Courier New';">&lt;/xsl:template&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;">...</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="font-style: italic;">Cluster</span>:</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 35px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Criada interface <span style="font-style: italic;">IClusterMember</span> para representar membro do <span style="font-style: italic;">cluster</span>. Consultar a API <a href="../api/lumis/portal/cluster/package-summary.html" target="_blank" class="weblink">lumis.portal.cluster</a>;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Alteração do <span style="font-style: italic;">Header Html</span> de páginas, com a possibilidade de adição de <span style="font-style: italic;">meta-tags</span> <span style="font-style: italic;">description</span> e <span style="font-style: italic;">keywords</span> que facilitam a indexação pelos mecanimos de busca. Para a página de Detalhes é possível customizar título e os metadados em tempo de execução;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Suporte a <span style="font-style: italic;">annotations</span> de <span style="font-style: italic;">lifecycle</span> do <span style="font-style: italic;">JPA;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Conforme o padrão J2EE, foi adicionado no <span style="font-style: italic;">web.xml</span> o elemento <span style="font-style: italic;">&lt;distributable/&gt;</span>. Sem esse elemento, o <span style="font-style: italic;">HttpSession</span> não se replicaria, quando a devida configuração de replicação é ativada no <span style="font-style: italic;">application server</span>. Atualizar o <span style="font-style: italic;">web.xml</span> com essa configuração;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="font-style: italic;">lumishibernate.cfg.xml</span>: acrescentar a seguinte propriedade, após o <span style="font-style: italic;">upgrade</span>, de preferência em um bloco geral para servir a qualquer <span style="font-style: italic;">string</span> de conexão:</td></tr></table></div><p style="white-space: nowrap; margin: 0px 0px 0px 70px;"><span style="font-size: 8pt; font-family: 'Courier New';">&lt;property&nbsp;name="jdbc.batch_size"&gt;0&lt;/property&gt;</span></p>
<p style="margin: 0px 0px 0px 35px;">Esta propriedade é necessária para o correto funcionamento do banco, por exemplo, para evitar erros de adição de conteúdo com <span style="font-style: italic;">workflow</span> no <span style="font-style: italic;">MySQL;</span></p>
<p style="margin: 0px 0px 0px 35px;">&nbsp;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 23px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Inclusão do filtro <span style="font-style: italic;">WebDataFilter</span> no arquivo <span style="font-style: italic;">web.xml</span> que serve arquivos localizados em <span style="font-style: italic;">www/data</span>, para ser utilizado quando <span style="font-style: italic;">webRootPath</span> for externo ao servidor de aplicação;</td></tr></table></div><p style="margin: 14px 0px 0px 0px;">&nbsp;</p>
<p style="margin: 14px 0px 0px 0px;"><span style="font-weight: bold;">Alterações</span></p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Em decorrência de alterações na definição do <span style="font-style: italic;">schema</span> do <span style="font-style: italic;">douidefinition</span>, a raiz dos arquivos customizados devem ser atualizadas de: </td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 1px;"><table cellspacing="0" cellpadding="2" bgcolor="#f3f3f3" border="1" style="background-color: #f3f3f3; border-color : #c0c0c0 #000000 #000000 #c0c0c0; border-style: solid; border-width: 1px; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="middle" style="border-color : #000000 #c0c0c0 #c0c0c0 #000000; border-style: solid; border-width: 1px;"><p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&lt;?xml&nbsp;version="1.0"&nbsp;encoding="UTF-8"?&gt;</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&lt;douiDefinition&nbsp;</span><span style="font-family: 'Courier New';">xmlns:xsi</span><span style="font-family: 'Courier New';">=</span><span style="font-family: 'Courier New';">"http://www.w3.org/2001/XMLSchema-instance"</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&nbsp;&nbsp;xsi:noNamespaceSchemaLocation=</span><span style="font-family: 'Courier New';">"http://www.lumis.com.br/lumisportal/xsd/douidefinition.xsd"</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&nbsp;&nbsp;</span><span style="font-family: 'Courier New';">xmlns:control</span><span style="font-family: 'Courier New';">=</span><span style="font-family: 'Courier New';">"http://www.lumis.com.br/douicontrols"</span><span style="font-family: 'Courier New';">&gt;</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">(...)</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&lt;/douiDefinition&gt;</span></p>
</td>
</tr>
</table>
</div>
<p style="margin: 14px 0px 0px 0px;">Para:</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 1px;"><table cellspacing="0" cellpadding="2" bgcolor="#f3f3f3" border="1" style="background-color: #f3f3f3; border-color : #c0c0c0 #000000 #000000 #c0c0c0; border-style: solid; border-width: 1px; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="middle" style="border-color : #000000 #c0c0c0 #c0c0c0 #000000; border-style: solid; border-width: 1px;"><p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&lt;?xml&nbsp;version="1.0"&nbsp;encoding="UTF-8"?&gt;</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&lt;doui:douiDefinition&nbsp;</span><span style="font-family: 'Courier New';">xmlns:xsi</span><span style="font-family: 'Courier New';">=</span><span style="font-family: 'Courier New';">"http://www.w3.org/2001/XMLSchema-instance"</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&nbsp;&nbsp;</span><span style="font-family: 'Courier New';">xmlns:doui</span><span style="font-family: 'Courier New';">=</span><span style="font-family: 'Courier New';">"http://www.lumis.com.br/lumisportal/xsd/doui"</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&nbsp;&nbsp;</span><span style="font-family: 'Courier New';">xmlns:control</span><span style="font-family: 'Courier New';">=</span><span style="font-family: 'Courier New';">"http://www.lumis.com.br/douicontrols"</span><span style="font-family: 'Courier New';">&gt;</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">(...)</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">&lt;/doui:douiDefinition&gt;</span></p>
</td>
</tr>
</table>
</div>
<p style="margin: 14px 0px 0px 0px;">Os arquivos <span style="font-style: italic;">douidefinition.xml</span> com o trecho antigo continuam funcionando normalmente, mas ferramentas de edição de <span style="font-style: italic;">XML</span>, que dão suporte à validação de <span style="font-style: italic;">schema</span> ou auto <span style="font-style: italic;">complete</span>, podem indicar erros ou não serem capazes de utilizar essas funcionalidades corretamente.</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Os arquivos <span style="font-style: italic;">.lec</span> do produto (<span style="font-style: italic;">prebuilt channels</span>) foram alterados para conter a versão 4.2.0.0 e os antigos para 1.0.0.0. Para a importação, se a versão do arquivo <span style="font-style: italic;">.lec</span> não for igual do <span style="font-style: italic;">.lec</span> atual, será exibida uma mensagem de erro alertando sobre tal diferença de versão, e a importação será interrompida;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="font-style: italic;">Lock</span>:</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">lumis.portal.lock.ILockManager</span> revisto e incompatível com a versão anterior<span style="font-style: italic;">;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">servicedefinition</span> não possui mais elementos <span style="font-style: italic;">&lt;lock&gt; </span>e<span style="font-style: italic;"> &lt;lockType&gt;;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="font-style: italic;">DataBoundControl.setsSourceParameters()</span> está <span style="font-style: italic;">deprecated</span>;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Relatórios:</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">lumishibernate.cfg.xml</span>: acrescentar a seguinte propriedade após o <span style="font-style: italic;">upgrade</span></td></tr></table></div><p style="margin: 0px 0px 0px 83px;"><span style="font-style: italic;">&lt;property name="cache.use_query_cache"&gt;true&lt;/property&gt; ;</span></p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td> <span style="font-style: italic;">servlet</span> <span style="font-style: italic;">ReportImageServlet</span> e filtro <span style="font-style: italic;">MonitorContextFilter</span> incluídos no <span style="font-style: italic;">web.xml</span>. Após o <span style="font-style: italic;">upgrade</span> &nbsp;ele deve ser atualizado com estas configurações;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="font-style: italic;">Cache</span>:</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Métodos anteriormente <span style="font-style: italic;">deprecated</span> em <span style="font-style: italic;">IPageCacheManager</span>, foram removidos;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Os métodos <span style="font-style: italic;">IPageCacheManager.clearCacheByPageIds</span> e <span style="font-style: italic;">IPageCacheManager.clearCacheByChannelIds</span> sofreram alterações em suas assinaturas;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Contexto Transacional</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>No <span style="font-style: italic;">web.xml </span>foi acrescentado o filtro T<span style="font-style: italic;">ransactionCleanupFilter;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">PortalTransactionFactory.getTransaction()</span> está <span style="font-style: italic;">deprecated ;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 70px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Nova <span style="font-style: italic;">feature</span> de propagação de transação documentada em <a href="../api/lumis/portal/transaction/PortalTransactionFactory.html" target="_blank" class="weblink">lumis.portal.transaction</a></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td>Serviço de Fórum: alteração na estrutura de dados;</td></tr></table></div><p style="text-indent: -13px; margin: 0px 0px 0px 35px;">&nbsp;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="background-color: #ffffff;">Serviços de Busca: A definição de controles da interface Busca com Resultados do serviço de Busca foi alterada para se utilizar o controle lum_button com o controle&nbsp;</span><span style="font-style: italic; background-color: #ffffff;">lum_buttonList</span><span style="background-color: #ffffff;">;</span></td></tr></table></div><p style="margin: 0px 0px 0px 35px;">&nbsp;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="background-color: #ffffff;">Agora o portal considera a extensão determinada no&nbsp;</span><span style="font-style: italic; background-color: #ffffff;">lumisportalconfig.xml</span><span style="background-color: #ffffff;">&nbsp;para páginas cacheadas. Se ela for acessada com qualquer outra extensão, será retornado erro 404 (página não encontrada);</span></td></tr></table></div><p style="text-indent: -13px; margin: 0px 0px 0px 35px;">&nbsp;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 22px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#8226;</span></td><td><span style="font-style: italic;">Content</span></td></tr></table></div><p style="margin: 14px 0px 0px 35px;">&nbsp;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>O parâmetro <span style="font-style: italic;">itemId </span>sempre se refere à chave primária na tabela principal de dados do conteúdo. Não existe mais os conceitos de <span style="font-style: italic;">languageContentId</span> ou <span style="font-style: italic;">versionContentId</span>, cujos valores eram repassados no parâmetro <span style="font-style: italic;">itemId</span> quando o <span style="font-style: italic;">source</span> possuía multi-idioma ou versionamento. Para identificar um conteúdo de forma mais genérica, sem especificar qual idioma ou versão, há o <span style="font-style: italic;">contentId</span>, que é passado pelo parâmetro <span style="font-style: italic;">PortalRequestParameters.PAGE_PARAMETER_ITEM_ID ("lumItemId")</span>;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">URLs</span> para detalhes de conteúdos alteradas. Agora, é utilizado o parâmetro <span style="font-style: italic;">lumItemId</span> contendo o <span style="font-style: italic;">contentId</span> ao invés de <span style="font-style: italic;">itemId</span> contendo a chave primária, <span style="font-style: italic;">languageContentId</span> ou <span style="font-style: italic;">versionContentId</span>. Caso seja fornecido o parâmetro <span style="font-style: italic;">itemId</span> e não <span style="font-style: italic;">lumItemId</span>, o <span style="font-style: italic;">lumItemId</span> que seria utilizado internamente, é calculado a partir do <span style="font-style: italic;">itemId,</span> supondo que este corresponde à chave primária do dado. Caso <span style="font-style: italic;">request.getParameter("itemId")</span> seja chamado em uma requisição com <span style="font-style: italic;">lumItemId</span> e sem <span style="font-style: italic;">itemId</span>, o <span style="font-style: italic;">itemId</span> é calculado como sendo a chave primária do dado publicado, correspondente ao conteúdo especificado em <span style="font-style: italic;">lumItemId</span>, para o usuário atual, considerando idioma e regras de publicação. Isto reduz incompatibilidades de <span style="font-style: italic;">URLs</span> antigas para conteúdos sem multi-idioma ou versionamento.</td></tr></table></div><p style="margin: 0px 0px 0px 83px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 83px;">Esta inferência de <span style="font-style: italic;">lumItemId</span> a partir de <span style="font-style: italic;">itemId</span> é feita apenas para reduzir incompatibilidades. Seu uso pode causar ineficiência na detecção de <span style="font-style: italic;">cache</span> de páginas <span style="font-style: italic;">htmls</span> a serem expiradas (expirar mais páginas do que necessário) ou outros <span style="font-style: italic;">overheads</span>. Neste cenário, o recomendado é ajustar para os <span style="font-style: italic;">links</span> para utilizarem as <span style="font-style: italic;">URLs </span>no novo padrão;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">XML</span> gerado pelo controle <span style="font-style: italic;">lum_language</span> alterado;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Foi alterada a forma como os metadados de conteúdo são armazenados. Parte da <span style="font-style: italic;">api </span>do pacote <span style="font-style: italic;">lumis.content.metadata</span> foi removida, o restante está <span style="font-style: italic;">deprecated</span>. A nova <span style="font-style: italic;">API</span> está no pacote <a href="../api/lumis/content/core/package-summary.html" target="_blank" class="weblink">lumis.content.core</a>. Portanto, qualquer customização que referencia diretamente os metadados de conteúdo, por exemplo, utilizando o valor de <span style="font-style: italic;">metaDataId</span> como <span style="font-style: italic;">foreign key</span>, precisa ser revista;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Atributo <span style="font-style: italic;">lumMetaDataId</span> não mais adicionado pelos <span style="font-style: italic;">process action</span> padrões de <span style="font-style: italic;">content. </span>Em seu lugar, é adicionado o atributo <span style="font-style: italic;">lumContentVersionId</span> e <span style="font-style: italic;">lumContentId;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">metadatahyperlink.jsp</span> substituído por <span style="font-style: italic;">contenthyperlink.jsp</span>. Isso afeta por exemplo, os serviços de <span style="font-style: italic;">Newsletter</span> e <span style="font-style: italic;">RSS;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Valores de controle incluídos nos índices da busca para conteúdos alterados;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">Interface</span> <span style="font-style: italic;">lumis.service.association.associatedContents</span>: campos renomeados de <span style="font-style: italic;">associatedMetaDataId</span> para <span style="font-style: italic;">associatedContentId</span> e <span style="font-style: italic;">associatedMetaData</span> para <span style="font-style: italic;">associatedContent;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">IWorkflowManager</span>: alguns métodos <span style="font-style: italic;">deprecated</span> e autoArchivePublishedContent substituído por outro com assinatura diferente;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">IWorkflowActionHandler</span>: assinatura do método <span style="font-style: italic;">preProcessAction</span> foi alterada;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Nesta versão não existe mais a possibilidade de um <span style="font-style: italic;">source</span> tipo <span style="font-style: italic;">contentTable</span> de não possuir isolação por instância de serviço. Para migrar os casos implementados para a nova versão do produto, existem as possibilidades descritas abaixo:</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#9633;</span></td><td>Migrar todos os conteúdos para a mesma instância de serviço:</td></tr></table></div><p style="margin: 0px 0px 0px 131px;">Esta solução consiste em migrar todos os conteúdos para uma única instância de serviço e sempre utilizar interfaces desta mesma instância de serviço. Quando não há necessidade de controle de acesso mais complexo, esta é um meio simples de manter a forma como o serviço funcionava anteriormente.</p>
<p style="margin: 0px 0px 0px 131px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 131px;">a) Primeiro passo: ajustar a base de dados, para que os conteúdos desse serviço passem a pertencer a uma instância de serviço específica. Para isso obtenha o identificador da instância de serviço desejada, e do respectivo serviço. Pode ser obtida na aba 'Avançado' das propriedades de uma interface dessa instância de serviço, nos campos 'Instância de Serviço' e 'Serviço'. Executar os seguintes SQLs para atualizar a base de dados:</p>
<p style="margin: 0px 0px 0px 131px;">&nbsp;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 106px;"><table cellspacing="0" cellpadding="2" bgcolor="#f3f3f3" border="1" style="background-color: #f3f3f3; border-color : #c0c0c0 #000000 #000000 #c0c0c0; border-style: solid; border-width: 1px; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="middle" style="border-color : #000000 #c0c0c0 #c0c0c0 #000000; border-style: solid; border-width: 1px;"><p style="white-space: nowrap;"><span style="font-family: 'Courier New';">update&nbsp;lum_Content&nbsp;set&nbsp;serviceInstanceId='&lt;identificador_da_instância_de_serviço&gt;'</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">where&nbsp;serviceInstanceId&nbsp;in</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">(select&nbsp;serviceInstanceId&nbsp;from&nbsp;lum_ServiceInstance</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">where&nbsp;serviceId='&lt;identificador_do_serviço&gt;');</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">update&nbsp;lum_ContentPubServiceInst&nbsp;set&nbsp;serviceInstanceId='&lt;identificador_da_instância_de_serviço&gt;'</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">where&nbsp;serviceInstanceId&nbsp;in</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">(select&nbsp;serviceInstanceId&nbsp;from&nbsp;lum_ServiceInstance</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">where&nbsp;serviceId='&lt;identificador_do_serviço&gt;');</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">update&nbsp;lum_File&nbsp;set&nbsp;serviceInstanceId='&lt;identificador_da_instância_de_serviço&gt;'</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">where&nbsp;serviceInstanceId&nbsp;in</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">(select&nbsp;serviceInstanceId&nbsp;from&nbsp;lum_ServiceInstance</span></p>
<p style="white-space: nowrap;"><span style="font-family: 'Courier New';">where&nbsp;serviceId='&lt;identificador_do_serviço&gt;');</span></p>
</td>
</tr>
</table>
</div>
<p style="margin: 0px 0px 0px 131px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 131px;">b) Segundo passo: editar as páginas para utilizarem interfaces apenas da instância de serviço selecionada acima. É necessário ir em cada página com interface de outra instância de serviço, remover a interface e adicionar em seu lugar a interface da instância de serviço correta;</p>
<p style="margin: 0px 0px 0px 131px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 131px;">c) Terceiro passo: pode-se remover as demais instâncias de serviço, que não serão mais utilizadas;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 58px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#9633;</span></td><td>Utilizar o atributo <span style="font-style: italic;">publishAllAccessibleContents</span> no <span style="font-style: italic;">source</span> que não possuía isolação: Esta solução resolve o problema de nas interfaces de publicação exibir também conteúdos de outras interface. No entanto, este atributo não afeta as interfaces de administração. Se também for desejado que a interface de administração exiba todos os conteúdos, será necessário migrar os conteúdos para uma mesma instância de serviço, como explicado acima, mas será necessário efetuar o passo 2 apenas para as interfaces de administração, pois o atributo <span style="font-style: italic;">publishAllAccessibleContents </span>fará com que as interfaces de publicação exiba os conteúdos da instância de serviço de administração. O passo 3 poderia ser feito apenas para instâncias de serviço não mais utilizadas.</td></tr></table></div><p style="margin: 14px 0px 0px 35px;">&nbsp;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>Para ser possível publicar dados de múltiplas instâncias de serviços em uma interface, &nbsp;a configuração se os dados serão ou não filtrados pelas regras de publicação para instâncias de serviço deve ser definida em cada <span style="font-style: italic;">source</span> no <span style="font-style: italic;">douidefinition</span>. O <span style="font-style: italic;">source</span> do tipo <span style="font-style: italic;">contentTable</span> poderá ter o atributo <span style="font-style: italic;">publishAllAccessibleContents</span> tipo <span style="font-style: italic;">boolean</span>, com valor<span style="font-style: italic;"> false</span>. Quando <span style="font-style: italic;">true</span>, a <span style="font-style: italic;">query</span> gerada pelo <span style="font-style: italic;">content framework</span>, além de exibir os conteúdos publicados para a instância de serviço da interface, também exibirá os conteúdos das instâncias de serviço que o usuário corrente tem permissão, através do controle de acesso "Visualizar Instância de Serviço". &nbsp;Este atributo afetará apenas interfaces de publicação. Interfaces de administração não serão afetadas por este atributo;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">lum_AlbumPhotograph.albumId</span> foi alterado para <span style="font-style: italic;">lum_AlbumPhotograph.albumContentId</span>, que referencia o identificador do conteúdo do álbum. O <span style="font-style: italic;">upgrade</span> efetua a conversão necessária, porém pode haver incompatibilidade se alguma customização referencia <span style="font-style: italic;">albumId;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td>O uso de <span style="font-style: italic;">itemId + serviceInstanceId</span> + <span style="font-style: italic;">sourceId</span> foi considerado como <span style="font-style: italic;">deprecated</span> para especificar um conteúdo no <span style="font-style: italic;">IWorkflowManager</span>. O método <span style="font-style: italic;">getAccessibleTransitions</span> também está <span style="font-style: italic;">deprecated</span> e possui substitutos. Para maiores detalhes, verificar o o <span style="font-style: italic;">javadoc</span> do  <a href="../api/lumis/content/workflow/IWorkflowManager.html" target="_blank" class="weblink">IWorkflowManager</a> <span style="font-style: italic;">;</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Courier New'; color: #000000;">o</span></td><td><span style="font-style: italic;">Upgrade</span>:</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 57px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#9633;</span></td><td>Conteúdos com <span style="font-style: italic;">languageId </span>com valor <span style="font-style: italic;">NULL</span> (usado para representar o idioma "Todos"), terão o idioma (que agora não é permitido <span style="font-style: italic;">NULL</span>) com valor "zz_ZZ" após o upgrade, e o <span style="font-style: italic;">defaultLocale</span> também será "zz_ZZ" para estes conteúdos, para manter a funcionalidade que "Todos" causava.</td></tr></table></div><p style="margin: 0px 0px 0px 131px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 131px;">O idioma 'zz_ZZ' aparece em branco no <span style="font-style: italic;">front-end</span> de edição, e deve ser alterado manualmente, respeitando as novas regras de conteúdos <a href="publicacaomultilingue.htm">multi-idioma</a>.</p>
<p style="margin: 0px 0px 0px 131px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 131px;">Para os demais conteúdos <span style="font-style: italic;">defaultLocale</span> será <span style="font-style: italic;">NULL;</span></p>
<p style="margin: 0px 0px 0px 131px;">&nbsp;</p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 59px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#9633;</span></td><td>Todas as instâncias de serviços que possuem algum <span style="font-style: italic;">source content </span>devem ser reindexadas;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 59px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#9633;</span></td><td>Esta versão efetua o versionamento de alguns metadados, o que não ocorria na versão anterior. Durante o <span style="font-style: italic;">upgrade</span>, conteúdos com versionamento terão estes metadados versionados copiados da versão atual para as versões anteriores;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 59px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#9633;</span></td><td>Todos os serviços <span style="font-style: italic;">content</span> devem ter seus registros atualizados. O processo de <span style="font-style: italic;">upgrade</span> já atualiza os registro dos serviços padrões do produto. Os demais precisam ser atualizados manualmente no gerenciador de serviços;</td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 59px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="13"><span style="font-size: 10pt; font-family: 'Arial Unicode MS', 'Lucida Sans Unicode', 'Arial'; color: #000000;">&#9633;</span></td><td>Recomenda-se limpar toda a lista de <span style="font-style: italic;">cache</span> de página <span style="font-style: italic;">html</span>, para evitar cache de <span style="font-style: italic;">urls</span> não mais existentes.</td></tr></table></div><p style="text-indent: -12px; margin: 0px 0px 0px 71px;">&nbsp;</p>

</td></tr></table>
<hr size="1" /><p style="font-size: 8pt"><b>Lumis Portal</b> 8.1.1.150831<br><i>Copyright © 2006–2015 Lumis EIP Tecnologia da Informação LTDA. Todos os direitos reservados.</i></p>
</body>
</html>
